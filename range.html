<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>进度条</title>
</head>
<body>
	<button>播放</button> <button>暂停</button>
	<audio src="laoren.mp3"></audio>
	<br><br>
	进度<input id="process" type="range" max="264" step="1" min='0' value="0">
	<span id="_process"></span><br><br>
	音量<input id="volume" type="range" max="1" min="0" step='0.01' value="0.1">
	<span id="_volume"></span>
	<h3>歌词马上就来</h3>
	<ul style="display:none;">
		<li>[00:05] 歌曲：老人与海</li>
		<li>[00:20] 演唱：海明威</li>
		<li>[00:37] 秋天的夜凋零在漫天落叶里面</li>
		<li>[00:42] 泛黄世界一点一点随风而渐远</li>
		<li>[00:47] 冬天的雪白色了你我的情人节</li>
		<li>[00:53] 消失不见 爱的碎片</li>
		<li>[00:57] Rap:</li>
		<li>[00:59] 翻开尘封的相片</li>
		<li>[01:00] 想起和你看过 的那些老旧默片</li>
		<li>[01:02] 老人与海的情节</li>
		<li>[01:04] 画面中你却依稀 在浮现</li>
		<li>[01:06] 然而地球另一边</li>
		<li>[01:07] 飞机带走了我的思念 呵</li>
		<li>[01:09] 一个人的海边</li>
		<li>[01:11] 海潮循环仍不变</li>
		<li>[01:12] 空荡的世界</li>
		<li>[01:13] 我 们之间呼吸少了一些</li>
		<li>[01:14] 老人默默抽 着烟</li>
		<li>[01:16] 和我一起 失眠</li>
		<li>[01:18] 直觉呈现</li>
		<li>[01:19] 等待也是种信念</li>
		<li>[01:20] 女:海的爱太深 时间太浅</li>
		<li>[01:25] 爱你的心 怎能搁浅</li>
		<li>[01:30] 老人的线紧牵 爱的信念</li>
		<li>[01:36] 岁月的帆 渐行渐远</li>
		<li>[01:42] 秋天的夜凋零在漫天落叶里面</li>
		<li>[01:47] 泛黄世界一点一点随风而渐远</li>
		<li>[01:52] 冬天的雪白色了你我的情人节</li>
		<li>[01:58] 消失不见 爱的碎片</li>
		<li>[02:03] Rap:</li>
		<li>[02:04] 铺满灰尘的乐章第二页</li>
		<li>[02:05] 放在那里好久都没练</li>
		<li>[02:08] 静静写下诗篇</li>
		<li>[02:10] 等待从大海的另一边</li>
		<li>[02:12] 却被季风变线 you know</li>
		<li>[02:13] 爱所维系的生命线</li>
		<li>[02:16] 在风浪中摇曳</li>
		<li>[02:17] 我依然坚守这一切</li>
		<li>[02:19] 老人他默默牵 着线</li>
		<li>[02:21] 和我一起 哽咽</li>
		<li>[02:22] 也许明天</li>
		<li>[02:23] 也许很远很远</li>
		<li>[02:24] 海的爱太深 时间太浅</li>
		<li>[02:29] 爱你的心 怎能搁浅</li>
		<li>[02:34] 老人的线紧牵 爱的信念</li>
		<li>[02:40] 岁月的帆 渐行渐远</li>
		<li>[02:47] 编辑：时杨帆</li>
		<li>[02:54] 编辑：时杨帆</li>
		<li>[03:00] 编辑：时杨帆</li>
		<li>[03:05] 编辑：时杨帆</li>
		<li>[03:08] 冬季终结纯白最后消失的那天</li>
		<li>[03:18] 爱的诺言一点一点却走向长眠</li>
		<li>[03:22] 宁静前夜老人守候着他的心愿</li>
		<li>[03:24] 海的对面 你我两个世界</li>
		<li>[03:30] 伴奏ing</li>
		<li>[03:35] 伴奏ing</li>
		<li>[03:40] 伴奏ing</li>
		<li>[03:45] 伴奏ing</li>
		<li>[03:48] 伴奏ing</li>
		<li>[03:58] 伴奏ing</li>
		<li>[04:10] 伴奏ing</li>
		<li>[04:15] 伴奏ing</li>
		<li>[04:20] </li>
	</ul>
<script>
	var music=document.getElementsByTagName('audio');
	var input=document.getElementsByTagName('input');
	var button=document.getElementsByTagName('button');
	var li=document.getElementsByTagName('li');
	var h3=document.getElementsByTagName('h3');
	var _process=document.getElementById('_process');
	music[0].play();
	button[0].onclick=function(){music[0].play();}
	button[1].onclick=function(){music[0].pause();}
	//音量条变化
	function Volume(){
		if(music[0].volume!=input[1].value){
			music[0].volume=input[1].value;
		}
	}	
	setInterval('Volume()',100);
	//进度条变化
	function Process(){
		if(music[0].paused){
			return
		}else{
			input[0].value++;
		}
	}
	setInterval('Process()',1000);
	//通过进度条控制歌曲进度
	input[0].onmouseup=function(){
		music[0].currentTime=input[0].value;
	}
	//鼠标移上去可显示当前歌曲进度
	input[0].onmousemove=function(){
		input[0].title=totime(input[0].value).slice(1,6);
	}
	//随着歌曲进度变化歌词也在变化
	music[0].ontimeupdate=function(){
		tt();
		var time=music[0].currentTime;
		stramp=totime(time);
		for(var i=0;i<li.length;i++){
			var geci=li[i].innerHTML;
			if(geci.indexOf(stramp) != -1){
				h3[0].innerHTML=li[i].innerHTML.slice(7);
			}
		}
	
	}
	//显示剩余时间
	function tt(){
		_process.innerHTML=totime(264-input[0].value).slice(1,6);

	}
	//将时间戳转化为--/--格式
	function totime(shijian) {
        var _time = (shijian % 60).toFixed(0);
        var time = (_time < 10 ? ('0' + _time) : _time);
        var _minute = (shijian / 60) | 0;
        var minute = _minute < 10 ? ('0' + _minute) : _minute;
        var timeStramp = '[' + minute + ':' + time + ']';
        return timeStramp;
    }
</script>
</body>
</html>